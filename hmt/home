import edu.holycross.shot.sparqlimg.CiteImage

String sparql = "@sparqls@"
String fcgi =  "@iipsrv@"

String demoImage = "@demoImage@"

String demoObject = "@demoObject@"
String demoText = "@demoText@"

CiteImage citeimg = new CiteImage(sparql, fcgi)

String svcReply = citeimg.getSparqlReply("application/json", citeimg.qg.summarizeGroupsQuery())
def slurper = new groovy.json.JsonSlurper()
def imgReply = slurper.parseText(svcReply)




html.html {
    head {
        title("HMT Digital")
		link(type : "text/css", rel : "stylesheet", href : "@coreCss@", title : "CSS stylesheet")
    }
    
    body {
    
    	header (role : "banner"){
            h1("Digital services from the Homer Multitext project")
            nav(role : "navigation")
    	}
    	
    	article (role : "main") {

	h2("Manuscripts and editions")

	ul { 
	  li {
	    mkp.yield "Read in-progress"
	    a(href: "mss", "facsimile editions")
	    mkp.yield (" (images with edition of ")
	    em("Iliad")
	    mkp.yield (" and scholia)")
	  }

	  li {
	    mkp.yield("Read scholia and ")
	    em("Iliad")
	    mkp.yield " in context"
	    mkp.yield (" (look up by ")
	    em("Iliad")
	    mkp.yield " line)"
	  }


	  form (action : "scholia", method : "get") {
	    label(for: "txturn1", "Iliad line")
	    input (type : "text", name : "urn", value : demoText, size: "60", id : "txturn1")
	    input (type : "submit", value : "See texts")
	  }

	  li {
	    mkp.yield "Browse "
	    a(href: "mssimgs.html", "images of Homeric manuscripts")
	  }
	}
	/*
	  p {
	    mkp.yield("Look up by MS page:")
	  }
	  form (action : "facs", method : "get") {
	    label(for: "pgurn","Page")
	    input (type : "text", name : "urn", value : demoObject, size: "60", id : "pgurn")
	    input (type : "submit", value : "See facsimile")
	  }
	*/
	  
	  h2("Other utilities")

	    ul {
                li {
                    mkp.yield ("See an automatically generated")
                    a(href : "overview", "summary of archival material")
		    mkp.yield (" (with links to browse contents)")
                }
                li {
                    a(href : "svcforms", "Look up material by URN")
                }
            }

	    h2("Links")
	    ul {
	      li {
		mkp.yield "The Homer Multitext project "
		a(href: "http://www.homermultitext.org", "web site")
	      }
	      
	    }

        }
        footer("@htmlfooter@")
    }
}
