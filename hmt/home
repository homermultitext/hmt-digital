import edu.holycross.shot.sparqlimg.CiteImage

String sparql = "@sparqls@"
String fcgi =  "@iipsrv@"

String demoImage = "@demoImage@"

String demoObject = "@demoObject@"
String demoText = "@demoText@"

CiteImage citeimg = new CiteImage(sparql, fcgi)

String svcReply = citeimg.getSparqlReply("application/json", citeimg.qg.summarizeGroupsQuery())
def slurper = new groovy.json.JsonSlurper()
def imgReply = slurper.parseText(svcReply)


html.html {
    head {
        title("HMT Digital")
		link(type : "text/css", rel : "stylesheet", href : "@coreCss@", title : "CSS stylesheet")
    }
    
    body {
    
    	header (role : "banner"){
            h1("Digital services from the Homer Multitext project")
            nav(role : "navigation")
    	}
    	
    	article (role : "main") {
	  h2("Images of manuscripts")
	  p("Browse")

	  h2("Editions")
	  
	  p("Read scholia on manuscriptsâ€¦")

	  p("an image:")
	  form (action : "scholia", method : "get") {
	    input (type : "text", name : "urn", value : demoText, size: "60")
	    input (type : "submit", value : "View Scholia")
	  }
	  
	  h2("Other utilities")

	    ul {
                li {
                    mkp.yield ("See an automatically generated")
                    a(href : "overview", "summary of archival material")
		    mkp.yield (" (with links to browse contents)")
                }
                li {
                    a(href : "svcforms", "Look up material by URN")
                }
            }

	    h2("Links")
	    ul {
	      li {
		mkp.yield "The Homer Multitext project "
		a(href: "http://www.homermultitext.org", "web site")
	      }
	      
	    }

        }
        footer("@htmlfooter@")
    }
}
